<!DOCTYPE html>
<html>
<head>
  <title>Predictive Power of MLB Stats</title>
  <meta charset="utf-8">
  <meta name="description" content="Predictive Power of MLB Stats">
  <meta name="author" content="Erich Meschkat">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  
  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Predictive Power of MLB Stats</h1>
    <h2>Using Year over Year performance to judge the predictive power of individual offensive stats</h2>
    <p>Erich Meschkat<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>Introduction</h2>
  </hgroup>
  <article data-timings="">
    <p>How can we predict a batter&#39;s offensive performance most accurately?  Which stats tend to be consistent from year to year, and which fluctuate with luck?  By looking at paired player seasons, we can see which stats have the most year to year correlation.  </p>

<p>First, we need to pull data.  <a href="www.Fangraphs.com">Fangraphs</a> is a great resource for MLB statistics.  I took single seasons from 2009-2014.  Next we need to match these up by player, and align the season pairs.  </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Getting and Cleaning the data</h2>
  </hgroup>
  <article data-timings="">
    <p>First, we set up our libraries, read in the data, and do some renaming  </p>

<pre><code class="r">library(ggplot2)
library(dplyr)
library(reshape2)
library(slidify)
options(digits = 3, scipen=999)

data &lt;- read.csv(&quot;~/documents/erich/r/mlb0914.csv&quot;)

#Adjust names
labs &lt;- names(data)
names(data) &lt;- c(labs[1:9],&quot;BBpct&quot;, &quot;Kpct&quot;,labs[12:17], &quot;wRCplus&quot;, labs[19:23])

#Adjust BB% and K% to numeric
data$BBpct &lt;- gsub(&quot; %&quot;, &quot;&quot;, data$BBpct)
data$BBpct &lt;- as.numeric(paste(data$BBpct))/100
data$Kpct &lt;- gsub(&quot; %&quot;, &quot;&quot;, data$Kpct)
data$Kpct &lt;- as.numeric(paste(data$Kpct))/100
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Arranging the data in pairs</h2>
  </hgroup>
  <article data-timings="">
    <p>Now, the tricky part, massaging the data in a way that allows for year over year pairs</p>

<pre><code class="r">#Arrange data for Season vs Season comparions by player (also removing Team variable)
melt.data &lt;- melt(data[,-3], id.vars=c(&quot;playerid&quot;,&quot;Name&quot;, &quot;Season&quot;))
seasons &lt;- dcast(melt.data, playerid + Name + variable ~ Season)
str(seasons)

##Create two season pair data frame
names &lt;- c(&quot;playerid&quot;, &quot;Name&quot;, &quot;variable&quot;, &quot;x&quot;, &quot;y&quot;)
season.pairs &lt;- rbind(setNames(seasons[1:5], names),
                      setNames(seasons[c(1:3,5:6)], names),
                      setNames(seasons[c(1:3,6:7)], names),
                      setNames(seasons[c(1:3,7:8)], names),
                      setNames(seasons[c(1:3,8:9)], names))
season.pairs &lt;- season.pairs[which(complete.cases(season.pairs) ==T),]  #Remove NAs

cortable &lt;- summarize(group_by(season.pairs, variable), cor(x,y)) 
names(cortable) &lt;- c(&quot;variable&quot;, &quot;cor&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Interpreting the data</h2>
  </hgroup>
  <article data-timings="">
    <p>We can see that context specific statistics (R, RBI) and batted ball statistics (AVG, BABIP) are less predictive, year over year, than Plate Discipline stats (OBP, K%, BB%) and Power stats (HR, ISO, SLG)</p>

<pre><code class="r">library(pander)
pander(cortable, style=&quot;rmarkdown&quot;, width=50, height=50)
</code></pre>

<table><thead>
<tr>
<th align="center">variable</th>
<th align="center">cor</th>
</tr>
</thead><tbody>
<tr>
<td align="center">G</td>
<td align="center">0.2292</td>
</tr>
<tr>
<td align="center">PA</td>
<td align="center">0.3411</td>
</tr>
<tr>
<td align="center">HR</td>
<td align="center">0.7186</td>
</tr>
<tr>
<td align="center">R</td>
<td align="center">0.4958</td>
</tr>
<tr>
<td align="center">RBI</td>
<td align="center">0.6039</td>
</tr>
<tr>
<td align="center">SB</td>
<td align="center">0.8228</td>
</tr>
<tr>
<td align="center">BBpct</td>
<td align="center">0.7522</td>
</tr>
<tr>
<td align="center">Kpct</td>
<td align="center">0.885</td>
</tr>
<tr>
<td align="center">ISO</td>
<td align="center">0.7119</td>
</tr>
<tr>
<td align="center">BABIP</td>
<td align="center">0.4389</td>
</tr>
<tr>
<td align="center">AVG</td>
<td align="center">0.4661</td>
</tr>
<tr>
<td align="center">OBP</td>
<td align="center">0.5442</td>
</tr>
<tr>
<td align="center">SLG</td>
<td align="center">0.5697</td>
</tr>
<tr>
<td align="center">wOBA</td>
<td align="center">0.534</td>
</tr>
<tr>
<td align="center">wRCplus</td>
<td align="center">0.5261</td>
</tr>
<tr>
<td align="center">BsR</td>
<td align="center">0.6444</td>
</tr>
<tr>
<td align="center">Off</td>
<td align="center">0.4963</td>
</tr>
<tr>
<td align="center">Def</td>
<td align="center">0.6389</td>
</tr>
<tr>
<td align="center">WAR</td>
<td align="center">0.4045</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Examing WAR pairs</h2>
  </hgroup>
  <article data-timings="">
    <p>We can look at the season pairs for WAR (Wins Above Replacement) to examine their correlation.  </p>

<p><img src="assets/fig/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='Introduction'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Getting and Cleaning the data'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Arranging the data in pairs'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Interpreting the data'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Examing WAR pairs'>
         5
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>